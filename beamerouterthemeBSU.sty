% Copyright 2015 by Paul Kirk
%
% Elements of this style file were adapted under the GNU Public License
% from Marco Barisione's Torino Beamer theme.
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under GPLv3.

\mode<presentation>

% String used between the current page and the total page count.
\def\beamer@mrc@pageofpages{/}
\DeclareOptionBeamer{pageofpages}{\def\beamer@mrc@pageofpages{#1}}

\ProcessOptionsBeamer

% Colors.
\setbeamercolor*{page header}{parent=titlelike}

% Lengths
\newlength{\headerheight}
\setlength{\headerheight}{.045\paperheight}

\setbeamerfont{page number}{size=\footnotesize}
%\setbeamerfont{frametitle}{size=\tiny}

% Footer.
\defbeamertemplate*{footline}{mrc theme}
{
  \leavevmode%

\hbox
{
\begin{beamercolorbox}[wd=0.01\paperwidth]{white}%
\end{beamercolorbox}
\begin{beamercolorbox}[wd=0.44\paperwidth]{white}%
  \includegraphics[height=3mm]{logo/MRC_footer_logo} 
\end{beamercolorbox}
\begin{beamercolorbox}[wd=0.52\paperwidth,ht=3.7ex,dp=2ex]{pages}%
  \hfill {\color{gray}\usebeamerfont{page number}\insertframenumber{}
    \beamer@mrc@pageofpages{} \inserttotalframenumber \hspace{3em}}   
\end{beamercolorbox}
\begin{beamercolorbox}[wd=0.03\paperwidth]{white}%
\end{beamercolorbox}

}

}


\defbeamertemplate*{frametitle}{mrc theme}[1][left]
{
  \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  \@tempdima=\textwidth%
  \advance\@tempdima by\beamer@leftmargin%
  \advance\@tempdima by\beamer@rightmargin%
  \vbox{}\vskip-.5\beamer@leftmargin%
  \begin{beamercolorbox}[sep=\beamer@leftmargin,#1,wd=\the\@tempdima]{frametitleback}
    \usebeamerfont{frametitle}\usebeamercolor[bg]{framesubtitle}%
    %\vbox{}\vskip0ex%
    \vskip-1.4ex
    \if@tempswa\else\csname beamer@fte#1\endcsname\fi%
    \strut\insertframetitle\strut\par%
    \def\beamer@mrc@truetext{true}%



    \vskip-2.4ex%
    \if@tempswa\else\vskip-\beamer@leftmargin\fi
  \end{beamercolorbox}%
  }

% Frame title continuations, default
\defbeamertemplate*{frametitle continuation}{mrc theme}{(\insertcontinuationcount)}




\mode
<all>
